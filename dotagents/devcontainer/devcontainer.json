{
  "name": "Agents Sandbox",
  "init": true,
  "build": {
    "dockerfile": "Dockerfile",
    "args": {
      "TZ": "${localEnv:TZ:UTC}",
      "CLAUDE_CODE_VERSION": "latest",
      "CODEX_VERSION": "latest"
    }
  },
  "remoteUser": "dev",
  "postCreateCommand": "uv run --no-sync /workspace/.devcontainer/post_install.py",
  "mounts": [
    "source=commandhistory,target=/commandhistory,type=volume",
    "source=${localEnv:HOME}/.claude,target=/home/dev/.claude,type=bind,consistency=cached",
    "source=${localEnv:HOME}/.codex,target=/home/dev/.codex,type=bind,consistency=cached",
    "source=${localEnv:HOME}/.pi,target=/home/dev/.pi,type=bind,consistency=cached",
    "source=gh-config,target=/home/dev/.config/gh,type=volume",
    "source=${localEnv:HOME}/.gitconfig,target=/home/dev/.gitconfig,type=bind,consistency=cached,readonly"
  ],
  "containerEnv": {
    "NODE_OPTIONS": "--max-old-space-size=4096",
    "CLAUDE_CONFIG_DIR": "/home/dev/.claude",
    "CODEX_HOME": "/home/dev/.codex",
    "CEREBRAS_API_KEY": "${localEnv:CEREBRAS_API_KEY}",
    "BUILDKITE_API_TOKEN": "${localEnv:BUILDKITE_API_TOKEN}",
    "BUILDKITE_ORGANIZATION_SLUG": "buildr"
  },
  "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=delegated",
  "workspaceFolder": "/workspace"
}
