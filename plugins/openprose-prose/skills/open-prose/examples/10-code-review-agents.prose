# Code Review Workflow with Agents
# This example shows how to use agents for a multi-step code review process.

# Define agents with specific roles
agent security-reviewer:
  model: opus
  prompt: "You are a security expert focused on identifying vulnerabilities"

agent performance-reviewer:
  model: sonnet
  prompt: "You are a performance optimization specialist"

agent style-reviewer:
  model: haiku
  prompt: "You check for code style and best practices"

# Step 1: Quick style check (fast)
session: style-reviewer
  prompt: "Review the code in src/ for style issues and naming conventions"

# Step 2: Performance analysis (medium)
session: performance-reviewer
  prompt: "Identify any performance bottlenecks or optimization opportunities"

# Step 3: Security audit (thorough)
session: security-reviewer
  prompt: "Perform a security review looking for OWASP top 10 vulnerabilities"

# Step 4: Summary
session: security-reviewer
  model: sonnet
  prompt: "Create a consolidated report of all review findings with priority rankings"
